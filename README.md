This is work in progress, and will be for a while.
I have a good amount of this ported in rust already, but porting the rust code to python for simplicity.
